# 社会福祉士アプリ プロジェクト引継ぎ資料
**最終更新:** 2026-01-18 02:49 JST

---

## 📂 プロジェクト概要

| 項目 | 内容 |
|------|------|
| **リポジトリ** | `c:\Users\user\.gemini\social-worker-exam` |
| **GitHub** | https://github.com/for4xex-droid/social-worker-exam |
| **アプリ名** | Welfare Master（福祉マスター） |
| **対象資格** | 社会福祉士、精神保健福祉士、介護福祉士 |
| **技術スタック** | Expo (React Native) + TypeScript + Drizzle ORM + SQLite |

---

## 🎯 現在の状態 (2026-01-18)

### ✅ 本日完了した作業

1. **模擬試験の問題数表示バグ修正**
   - Web/App両方で問題数が正しく表示されるように修正
   - プロパティ名の不一致 (`count` → `questionCount`) を解消

2. **デイリーミッション機能の改善**
   - リセット時間を **AM 4:00 (JST)** に変更
   - 出題対象を **共通科目のみ（約2,668問）** に限定
   - 過去問・専門科目は除外

3. **カテゴリ名の正規化**
   - 旧カリキュラムの長い科目名を新名称に統一
   - 例：「児童や家庭に対する支援と児童・家庭福祉制度」→「児童・家庭福祉」

4. **UI調整**
   - ホーム画面の余白削減（`paddingBottom: 100` → `40`）
   - ランクアイコンに `rounded-full` 適用（円形化）

5. **Gitリポジトリのクリーンアップ**
   - 履歴を完全リセット（新規リポジトリとして再初期化）
   - `node_modules`, `.git_backup.zip` 等を除外
   - **Push成功**: 285MB（以前の1GB超えから大幅削減）

---

## 📁 重要ファイル

| パス | 説明 |
|------|------|
| `welfare-master/app/` | Expoアプリ本体 |
| `welfare-master/app/app/(tabs)/index.tsx` | ホーム画面（デイリーミッション等） |
| `welfare-master/app/app/folders/[group].tsx` | 模擬試験画面 |
| `welfare-master/app/db/client.native.ts` | Native版DBクライアント |
| `welfare-master/app/db/client.web.ts` | Web版DBクライアント |
| `welfare-master/data_pipeline/` | データ生成スクリプト群 |
| `welfare-master/data_pipeline/update_native_assets.py` | アセット生成（カテゴリ正規化含む） |
| `welfare-master/data_pipeline/master_database_v2_final.json` | マスターデータ（全問題） |
| `welfare-master/docs/EXAM_SYSTEM_SPEC.md` | 問題・DB仕様書 |

---

## ⚙️ 開発コマンド

```bash
# Web版起動（社会福祉士）
cd welfare-master/app
npm run web:social

# Web版起動（精神保健福祉士）
npm run web:mental

# Native版起動（Expo Go）
npx expo start --clear
```

---

## ⚠️ 注意事項

### Git関連
- **履歴がリセットされました**: 2026-01-18以前のコミット履歴は `.git_backup.zip` にバックアップ済み
- `.gitignore` に以下を追加済み:
  - `**/node_modules/`
  - `**/dist/`
  - `**/.expo/`
  - `.git_backup.zip`
  - 各種中間ファイル

### データベース
- Native版: `FORCE_RESET` フラグは `false` に設定済み
- データ更新時は `update_native_assets.py` を実行してアセット再生成

### デイリーミッション
- AM 4:00 を境に日付が切り替わる（`getBusinessDate()` 関数）
- 出題対象: `common` 系グループのみ

---

## 🔮 今後の課題・TODO

1. **Lint警告の解消**: `index.tsx` 内の暗黙的 `any` 型（機能には影響なし）
2. **Web版のスクロール問題**: 特定環境での動作確認
3. **パフォーマンス最適化**: 問題数が多い場合のロード時間

---

## 📞 関連ワークフロー

- `/deploy-web-social` - Web版デプロイ
- `/deploy-web-mental` - 精神保健版Web版デプロイ
- `/update-mock-data` - 模擬試験データ更新

---

*この資料は `.agent/skills/project-guidelines/` または `docs/` に保存することを推奨*
